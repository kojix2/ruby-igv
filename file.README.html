<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; Documentation by YARD 0.9.28
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "README";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="file_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'>
<h1 id="label-ruby-igv">ruby-igv</h1>

<p><a href="https://badge.fury.io/rb/ruby-igv"><img src="https://badge.fury.io/rb/ruby-igv.svg"></a> <a href="https://rubydoc.info/gems/ruby-igv"><img src="https://img.shields.io/badge/docs-stable-blue.svg"></a> <a href="https://kojix2.github.io/ruby-igv"><img src="https://img.shields.io/badge/docs-latest-blue.svg"></a> <a href="LICENSE.txt"><img src="https://img.shields.io/badge/license-MIT-orange.svg"></a> <a href="https://zenodo.org/badge/latestdoi/281373245"><img src="https://zenodo.org/badge/281373245.svg"></a></p>

<p>Ruby-IGV is a simple tool for controlling the Integrated Genomics Viewer (IGV) from the Ruby language. It provides an automated way to load files, specify genome locations, and take and save screenshots using IGV.</p>

<h2 id="label-Installation">Installation</h2>

<p>&lt;img src=“<img src="https://user-images.githubusercontent.com/5798442/182540876-c3ca2906-7d05-4c93-9107-ce4135ae9765.png" />” width=“300” align=“right”&gt;</p>

<p>Requirement :</p>
<ul><li>
<p><a href="https://github.com/ruby/ruby">Ruby</a></p>
</li><li>
<p><a href="http://software.broadinstitute.org/software/igv/">IGV (Integrative Genomics Viewer)</a></p>
</li><li>
<p><a href="https://software.broadinstitute.org/software/igv/Preferences#Advanced">Enable IGV to listen on the port</a></p>
</li><li>
<p>View &gt; Preference &gt; Advanced &gt; Enable port ☑</p>
</li></ul>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_gem'>gem</span> <span class='id identifier rubyid_install'>install</span> <span class='id identifier rubyid_ruby'>ruby</span><span class='op'>-</span><span class='id identifier rubyid_igv'>igv</span>
</code></pre>

<h2 id="label-Quickstart">Quickstart</h2>

<p>&lt;img src=“<img src="https://user-images.githubusercontent.com/5798442/182623864-a9fa59aa-abb9-4cb1-8311-2b3479b7414e.png" />” width=“300” align=“right”&gt;</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>igv</span><span class='tstring_end'>&#39;</span></span>

<span class='id identifier rubyid_igv'>igv</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="IGV.html" title="IGV (class)">IGV</a></span></span><span class='period'>.</span><span class='id identifier rubyid_start'><span class='object_link'><a href="IGV.html#start-class_method" title="IGV.start (method)">start</a></span></span> <span class='comment'># This launch IGV
</span>
<span class='id identifier rubyid_igv'>igv</span><span class='period'>.</span><span class='id identifier rubyid_set'>set</span>      <span class='symbol'>:SleepInterval</span><span class='comma'>,</span> <span class='int'>200</span> <span class='comment'># give a time interval
</span><span class='id identifier rubyid_igv'>igv</span><span class='period'>.</span><span class='id identifier rubyid_genome'>genome</span>   <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hg19</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_igv'>igv</span><span class='period'>.</span><span class='id identifier rubyid_load'>load</span>     <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>http://hgdownload.cse.ucsc.edu/goldenPath/</span><span class='tstring_end'>&#39;</span></span> \
             <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hg19/encodeDCC/wgEncodeUwRepliSeq/</span><span class='tstring_end'>&#39;</span></span> \
             <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>wgEncodeUwRepliSeqK562G1AlnRep1.bam</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_igv'>igv</span><span class='period'>.</span><span class='id identifier rubyid_go'>go</span>       <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>chr18:78016233-78016640</span><span class='tstring_end'>&#39;</span></span>
<span class='id identifier rubyid_igv'>igv</span><span class='period'>.</span><span class='id identifier rubyid_snapshot'>snapshot</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>region.png</span><span class='tstring_end'>&#39;</span></span>
</code></pre>

<h2 id="label-Usage">Usage</h2>

<h3 id="label-IGV+batch+commands">IGV batch commands</h3>

<p>The commonly used commands in IGV are summarized in the official <a href="https://github.com/igvteam/igv/wiki/Batch-commands">list of batch commands</a>. (but even this does not seem to be all of them). You can also call the <code>commands</code> method from Ruby to open a browser and view the list.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_igv'>igv</span><span class='period'>.</span><span class='id identifier rubyid_commands'>commands</span> <span class='comment'># Show the IGV command reference in your browser
</span></code></pre>

<h3 id="label-docs">docs</h3>

<p>See <a href="https://rubydoc.info/gems/ruby-igv/IGV">yard docs</a>. Commonly used IGV batch commands can be called from Ruby methods of the same name. However, not all IGV batch commands are implemented in Ruby. Use the <code>send</code> method described below.</p>

<h3 id="label-send">send</h3>

<p>Commands that are not implemented can be sent using the send method.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_igv'>igv</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>maxPanelHeight</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>10</span><span class='rparen'>)</span>
</code></pre>

<p>To avoid unexpected behavior, ruby-igv does not use the <code>method_missing</code> mechanism.</p>

<h3 id="label-Launch+IGV">Launch IGV</h3>

<p>Launch IGV from Ruby script.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_igv'>igv</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="IGV.html" title="IGV (class)">IGV</a></span></span><span class='period'>.</span><span class='id identifier rubyid_start'><span class='object_link'><a href="IGV.html#start-class_method" title="IGV.start (method)">start</a></span></span> <span class='comment'># launch IGV app using spawn
</span></code></pre>

<p>You can specify the port.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_igv'>igv</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="IGV.html" title="IGV (class)">IGV</a></span></span><span class='period'>.</span><span class='id identifier rubyid_start'><span class='object_link'><a href="IGV.html#start-class_method" title="IGV.start (method)">start</a></span></span><span class='lparen'>(</span><span class='label'>port:</span> <span class='int'>60152</span><span class='rparen'>)</span>
</code></pre>

<p>If you start IGV in this way, you can force IGV to terminate by calling the kill method.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_igv'>igv</span><span class='period'>.</span><span class='id identifier rubyid_kill'>kill</span>
</code></pre>

<h3 id="label-Open+socket+connection+to+IGV">Open socket connection to IGV</h3>

<p>If IGV is already running, use <code>new</code> or <code>open</code>.</p>

<p>new</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_igv'>igv</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="IGV.html" title="IGV (class)">IGV</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="IGV.html#initialize-instance_method" title="IGV#initialize (method)">new</a></span></span>   <span class='comment'># create an IGV object. Then you will type `igv.connect`
</span><span class='id identifier rubyid_igv'>igv</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="IGV.html" title="IGV (class)">IGV</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="IGV.html#initialize-instance_method" title="IGV#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='label'>host:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>127.0.0.1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>port:</span> <span class='int'>60151</span><span class='comma'>,</span> <span class='label'>snapshot_dir:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>~/igv_snapshot</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_igv'>igv</span><span class='period'>.</span><span class='id identifier rubyid_connect'>connect</span> <span class='comment'># To start a connection, call connect explicitly.
</span><span class='id identifier rubyid_igv'>igv</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span>
</code></pre>

<p>open</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_igv'>igv</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="IGV.html" title="IGV (class)">IGV</a></span></span><span class='period'>.</span><span class='id identifier rubyid_open'><span class='object_link'><a href="IGV.html#open-class_method" title="IGV.open (method)">open</a></span></span>  <span class='comment'># create an IGV object and connect it to an already activated IGV.
</span><span class='id identifier rubyid_igv'>igv</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span>
<span class='const'><span class='object_link'><a href="IGV.html" title="IGV (class)">IGV</a></span></span><span class='period'>.</span><span class='id identifier rubyid_open'><span class='object_link'><a href="IGV.html#open-class_method" title="IGV.open (method)">open</a></span></span><span class='lparen'>(</span><span class='label'>host:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>127.0.0.1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>port:</span> <span class='int'>60151</span><span class='comma'>,</span> <span class='label'>snapshot_dir:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>~/igv_snapshot</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_igv'>igv</span><span class='op'>|</span>
  <span class='comment'># do something
</span><span class='kw'>end</span> <span class='comment'># The socket is automatically closed.
</span></code></pre>

<h3 id="label-Close+IGV">Close IGV</h3>

<p>The behavior of the following methods is different.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_igv'>igv</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span>       <span class='comment'># close the socket connection
</span><span class='id identifier rubyid_igv'>igv</span><span class='period'>.</span><span class='id identifier rubyid_exit'>exit</span>        <span class='comment'># send exit command to IGV then close the socket connection
</span><span class='id identifier rubyid_igv'>igv</span><span class='period'>.</span><span class='id identifier rubyid_quit'>quit</span>        <span class='comment'># alias method to exit
</span><span class='id identifier rubyid_igv'>igv</span><span class='period'>.</span><span class='id identifier rubyid_kill'>kill</span>        <span class='comment'># kill group pid created with IGV.start
</span></code></pre>

<h2 id="label-Contributing">Contributing</h2>
<ul><li>
<p><a href="https://github.com/kojix2/ruby-igv/issues">Report bugs</a></p>
</li><li>
<p>Fix bugs and submit <a href="https://github.com/kojix2/ruby-igv/pulls">pull requests</a></p>
</li><li>
<p>Write, clarify, or fix documentation</p>
</li><li>
<p>Suggest or add new features</p>
</li></ul>

<pre class="code ruby"><code class="ruby">Do you need commit rights to this repository?
Do you want to get admin rights and take over the project?
If so, please feel free to contact me @kojix2.
</code></pre>

<h2 id="label-Acknowledgement">Acknowledgement</h2>

<p>This gem is strongly inspired by a Python script developed by Brent Pedersen. * <a href="https://github.com/brentp/bio-playground">brentp/bio-playground/igv</a>.</p>

<h2 id="label-License">License</h2>

<p>The gem is available as open source under the terms of the <a href="https://opensource.org/licenses/MIT">MIT License</a>.</p>
</div></div>

      <div id="footer">
  Generated on Wed Aug  3 21:11:42 2022 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.28 (ruby-3.1.2).
</div>

    </div>
  </body>
</html>